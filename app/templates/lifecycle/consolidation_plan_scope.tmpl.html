<div class="row">
    <div class="col-lg-12">
        <h1><span><a href="#/lifecycle/serviceDashboard">Consolidation Planning Service</a> <i class="fa fa-caret-right"></i> <span data-bind="text: engagement_name"></span></span></h1>

     
    </div>
    <!-- /.col-lg-12 -->
    <div class="row">
        <div class="col-lg-12">
            <div class="panel-body"> 
                <!-- Nav tabs -->
                <ul id="consoltab" class="nav nav-tabs">
                    <li class="active"><a href="#targets" data-toggle="tab" data-bind='click: forceResize'><i class="fa fa-cogs fa-fw"></i> Select Targets</a> </li>
                    <li><a href="#mapping" data-toggle="tab" data-bind='click: mapIntialize'><i class="fa fa-cloud-upload fa-fw"></i> Define Mapping</a> </li>
                    
                    <!-- ko foreach: scenarioList -->
                    <li><a href="#recommendation" data-toggle="tab" data-bind="click: function(){ $parent.viewScenario($data)}"><i class="fa fa-cloud-upload fa-fw"></i><h data-bind="text:description"></h></a> </li>
                    <!-- /ko -->
                </ul>

                <!-- Tab panes -->
                <div class="tab-content">
                    <div class="tab-pane fade in active" id="targets">
                        <h4>Select Targets</h4>
                        <!--<i class="fa fa-trash-o" data-bind=''></i>-->
                       
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="panel panel-default">                                   
                                    <div class="panel-heading"> <i class="fa fa-cloud-download fa-fw"></i>Source Targets
                                        
                                    </div>
                                    <!-- /.panel-heading-->
                                    <div class="panel-body">
                                        <div class="table-responsive">
                                            <p >Choose the databases you wish to consolidate by clicking  'Add Source Databases'.</p>
                                                
                                        <div class="form-group">
                                        <div style="width: 100%;" data-bind="koGrid: gridSrcOptions"></div>

                                         </div>
                                        <!-- /.form-group-->
                                        </div>
                                        <!-- /.table-responsive-->
                                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#srcModal" data-bind="visible: adminFlg,click: function(){ showPopupRegion('srcGrid'); }">
                                            Add Source Databases </button>
                                    </div>
                                    <!-- /.panel-body -->
                                </div>
                                <!-- /.panel panel-default -->
                            </div>
                            <div data-bind='if: phantomHideFlg' class="col-lg-6">
                                <!--(!PHANTOMFLG) doesn't work -->
                                <div  class="panel panel-default">   
                                    <div class="panel-heading"> <i class="fa fa-cloud-upload fa-fw"></i>Destination Targets
                                        
                                    </div>
                                    <div class="panel-body">
                                         <div class="table-responsive">
                                            <p >Choose the target to consolidate databases onto by clicking 'Add Destination Target'.</p>
                                        <div class="form-group">
                                            <div style="width: 100%;" data-bind="koGrid: gridDestnOptions"></div>
                                        </div>
                                        <!-- /.form-group-->
                                        </div>
                                        <!-- /.table-responsive-->
                                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#destnModal" data-bind="visible: adminFlg,click: function(){ showPopupRegion('destGrid'); }">
                                            Add Destination Databases </button>
                                    </div>
                                    <!-- /.panel-body -->
                                </div>
                                <!-- /.panel panel-default -->
                            </div>
                            <!-- /.col-lg-6 -->
                            
                            
                            <div data-bind='if: phantomFlg' class="col-lg-6">
                                <div  class="panel panel-default">   
                                    <div class="panel-heading"> <i class="fa fa-cloud-upload fa-fw"></i>Phantom Destination Targets
                                        
                                    </div>
                                    <div class="panel-body">
                                         <div class="table-responsive">
                                            <p >Choose the target to consolidate databases onto by clicking 'Add Destination Target'.</p>
                                        <div class="form-group">
                                            <div style="width: 100%;" data-bind="koGrid: gridPhantomOptions"></div>
                                        </div>
                                        <!-- /.form-group-->
                                        </div>
                                        <!-- /.table-responsive-->
                                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#phantomModal" data-bind="visible: adminFlg,click: function(){ showPopupRegion('destGrid'); }">
                                            Add Destination Databases </button>
                                    </div>
                                    <!-- /.panel-body -->
                                </div>
                                <!-- /.panel panel-default -->
                            </div>
                            <!-- /.col-lg-6 -->
                            
                            <div class="col-lg-12">
                                <div data-bind='visible: conformationFlg' class="panel panel-default">
                                    <div class="panel-heading"><i class="fa fa-code-fork fa-fw"></i>Confirm Source & Destination Databases
                                       
                                    </div>
                                    <div class="panel-body">
                                        <!--<div class="table-responsive">-->
                                       <p >Confirm these are the targets required for the Consolidation Planning exercise. </p>
                                        <div class="row-fluid">
                                          <div class="col-lg-12">
                                            <div class="row col-lg-6 alert alert-info">
<!--                                            <div style="width: 100%;" data-bind="koGrid: gridFullOptions"></div>-->                                            
                                            <h4>Source Targets</h4>
                                            <ul data-bind="foreach: scopedSrcList">                               
                                                <li>
                                                   <span data-bind="text: TARGET_NAME"> </span>  
                                               </li>
                                            </ul>
                                        </div>
                                        <!-- /.form-group-->
                                        <div data-bind='visible: phantomHideFlg' class="row pull-right col-lg-6 alert alert-info">
                                            <h4>Destination Targets</h4>
                                            <ul data-bind="foreach: scopedDestList">                               
                                                <li>
                                                   <span data-bind="text: TARGET_NAME"> </span>  
                                               </li>
                                            </ul>
                                        </div>
                                        <div data-bind='visible: phantomFlg' class="row pull-right col-lg-6 alert alert-info">
                                            <h4>Phantom Destination Targets</h4>
                                            <ul data-bind="foreach: phantomTargetList">                               
                                                <li>
                                                   <span data-bind="text: PHANTOM_ID"> </span>  
                                               </li>
                                            </ul>
                                        </div>
                                        </div>
                                        </div> 
                                        <div class="row">
                                        <button type="submit" class="btn btn-primary" data-bind='click: saveOnConfirm, visible: adminFlg'>Confirm Source &amp; Destination Databases</button>
                                        </div>
                                    </div>
                                    <!-- /.panel-body -->
                                </div>
                                <!-- /.panel panel-default -->
                            </div>
                            <!-- /.col-lg-12 -->
                            
                        </div>
                        <!-- /.row --> 
                                                
                                        
                         <!--Modal Source--> 
                        <div class="modal fade" id="srcModal" tabindex="-1" role="dialog" aria-labelledby="srcModalLabel" aria-hidden="true" data-bind="if: gridRegion.srcGrid">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                        <h4 class="modal-title" id="srcModalLabel">Select Target</h4>
                                    </div>
                                    <div class="modal-body">
                                        <!--<div class="form-group">-->
                                            <div style="width: 100%;" data-bind="koGrid: gridModalSrcOptions"></div>
                                            <!--<div style="width: 550px;" data-bind="koGrid: srcGridOptions()"></div>-->
                                            
                                        <!--</div>-->
                                         <!--/.form-group-->
                                    </div>
                                     <!--/.modal body-->
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" data-bind='click: addSrcToScope'>Add</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
                                    </div>
                                     <!--/.modal footer-->
                                </div>
                                 <!--/.modal-content--> 
                            </div>
                             <!--/.modal-dialog--> 
                        </div>
                         <!--/.modal--> 


                         <!--Modal Destination--> 
                        <div class="modal fade" id="destnModal" tabindex="-1" role="dialog" aria-labelledby="destnModalLabel" aria-hidden="true" data-bind="if: gridRegion.destGrid">
                            <div class="modal-dialog chart-view-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                        <h4 class="modal-title" id="destnModalLabel">Select Target</h4>
                                    </div>
                                    <div class="modal-body">
                                        <!--<div class="form-group">-->
                                            <div style="width: 100%;" data-bind="koGrid: gridModalDestnOptions"></div>

                                        <!--</div>-->
                                         <!--/.form-group-->
                                    </div>
                                     <!--/.modal body-->
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" data-bind='click: addDestnToScope'>Add</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
                                    </div>
                                     <!--/.modal footer-->
                                </div>
                                 <!--/.modal-content--> 
                            </div>
                             <!--/.modal-dialog--> 
                        </div>
                         <!--/.modal destination--> 
                         
                        <!--Modal phantom Destination--> 
                        <div class="modal fade" id="phantomModal" tabindex="-1" role="dialog" aria-labelledby="phantomModalLabel" aria-hidden="true" data-bind="if: gridRegion.destGrid">
                            <div class="modal-dialog chart-view-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                        <h4 class="modal-title" id="phantomModalLabel">Select Target</h4>
                                    </div>
                                    <div class="modal-body">
                                        <!--<div class="form-group">-->
                                            <div style="width: 100%;" data-bind="koGrid: gridModalPhantomOptions"></div>

                                        <!--</div>-->
                                         <!--/.form-group-->
                                    </div>
                                     <!--/.modal body-->
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" data-bind='click: addPhantomDestnToScope'>Add</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
                                    </div>
                                     <!--/.modal footer-->
                                </div>
                                 <!--/.modal-content--> 
                            </div>
                             <!--/.modal-dialog--> 
                        </div>
                         <!--/.modal phantom--> 
                         
                    </div>
                        <!-- /.tab-pane fade in active targets-->
                        
                    <div class="tab-pane fade" id="mapping">
                        <h4>Mapping Migration Targets</h4>
                        <div class="row">
                            
                            <div data-bind='if: phantomHideFlg, visible: phantomHideFlg' class="col-lg-6" >
                                <div class="panel panel-default">
                                    <div class="panel-heading">Cloud Destination Details

                                    </div>
                                    <div class="panel-body">
<!--                                       <div class="table-responsive">
                                        <div class="form-group">-->
                                            <div style="width: 100%;" data-bind="koGrid: gridDestnDetailOptions"></div>
<!--                                        </div>
                                        </div>-->
                                        <!-- /.table-responsive-->
                                    </div>
                                    <!-- /.panel-body -->
                                </div>
                            </div>

                            <div data-bind='if: phantomFlg' class="col-lg-6" >
                                <div class="panel panel-default">
                                    <div class="panel-heading">Cloud Destination Details

                                    </div>
                                    <div class="panel-body">
<!--                                       <div class="table-responsive">
                                        <div class="form-group">-->
                                            <div style="width: 100%;" data-bind="koGrid: gridPhantomMappingOptions"></div>
<!--                                        </div>
                                        </div>-->
                                        <!-- /.table-responsive-->
                                    </div>
                                    <!-- /.panel-body -->
                                </div>
                            </div>
                            
                            <div class="col-lg-6">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Define Target Mapping
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-group">
                                            <div style="width: 100%;" data-bind="koGrid: gridMappingOptions"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- /.col-lg-6 -->
                        </div>
                        <!-- /.row --> 
                        <button type="submit" class="btn btn-primary"data-bind='click: submitMap,visible: adminFlg'>Submit</button>

                    </div>
                    <div class="tab-pane fade" id="recommendation">
                       
                    </div>
                </div>  <!-- End of TAB Panes -->
            </div>  
        </div>
    </div>  
</div>     


